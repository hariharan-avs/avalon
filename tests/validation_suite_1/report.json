{"created": 1571643473.0812287, "duration": 9.237587690353394, "exitcode": 1, "root": "/project/TrustedComputeFramework/tests/validation_suite", "environment": {"Python": "3.6.8", "Platform": "Linux-4.15.0-62-generic-x86_64-with-Ubuntu-18.04-bionic", "Packages": {"pytest": "5.2.1", "py": "1.8.0", "pluggy": "0.13.0"}, "Plugins": {"metadata": "1.8.0", "json-report": "1.1.0", "web3": "5.2.1"}}, "summary": {"failed": 1, "total": 1}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "automation_framework/utilities/__init__.py", "type": "Package"}, {"nodeid": "automation_framework/work_order_get_result/__init__.py", "type": "Package"}, {"nodeid": "automation_framework/work_order_submit/__init__.py", "type": "Package"}, {"nodeid": "automation_framework/worker/__init__.py", "type": "Package"}, {"nodeid": "automation_framework/worker_lookup/__init__.py", "type": "Package"}, {"nodeid": "automation_framework/worker_retrieve/__init__.py", "type": "Package"}, {"nodeid": "work_order/test_work_order_success.py", "type": "Module"}]}, {"nodeid": "automation_framework/utilities/__init__.py", "outcome": "passed", "result": []}, {"nodeid": "automation_framework/work_order_get_result/__init__.py", "outcome": "passed", "result": []}, {"nodeid": "automation_framework/work_order_submit/__init__.py", "outcome": "passed", "result": []}, {"nodeid": "automation_framework/worker/__init__.py", "outcome": "passed", "result": []}, {"nodeid": "automation_framework/worker_lookup/__init__.py", "outcome": "passed", "result": []}, {"nodeid": "automation_framework/worker_retrieve/__init__.py", "outcome": "passed", "result": []}, {"nodeid": "work_order/test_work_order_success.py", "outcome": "passed", "result": [{"nodeid": "work_order/test_work_order_success.py::test_work_order_success", "type": "Function", "lineno": 7}]}], "tests": [{"nodeid": "work_order/test_work_order_success.py::test_work_order_success", "lineno": 7, "outcome": "failed", "keywords": ["work_order/test_work_order_success.py", "test_work_order_success", "validation_suite"], "setup": {"duration": 0.022945404052734375, "outcome": "passed", "log": [{"name": "conftest", "msg": "configuration for the session: {'KvStorage': {'StoragePath': 'config/Kv_Shared_tmp', 'StorageSize': '1 TB'}, 'Logging': {'LogLevel': 'INFO', 'LogFile': '__screen__'}, 'EnclaveManager': {'sleep_interval': '10'}, 'Listener': {'listener_port': 1947, 'max_work_order_count': 10}, 'EnclaveModule': {'spid': 'DEADBEEF00000000DEADBEEF00000000', 'num_of_enclaves': '1', 'ias_url': 'https://api.trustedservices.intel.com/sgx/dev', 'ias_api_key': '112233445566778899aabbccddeeff00', 'enclave_library': 'libtcf-enclave.signed.so', 'enclave_library_path': 'tc/sgx/trusted_worker_manager/enclave/build/lib/'}, 'WorkerConfig': {'ProofDataType': 'TEE-SGX-IAS', 'WorkOrderSyncUri': 'http://localhost:8080', 'WorkOrderAsyncUri': 'http://localhost:8080', 'WorkOrderPullUri': 'http://localhost:8080', 'WorkOrderNotifyUri': 'http://localhost:8080', 'ApplicationTypeId': '11aa22bb33cc44dd', 'OrganizationId': 'aabbcc1234ddeeff', 'ReceiptInvocationUri': 'http://localhost:8080', 'WorkOrderInvocationAddress': '', 'ReceiptInvocationAddress': '', 'FromAddress': '', 'HashingAlgorithm': 'SHA-256', 'SigningAlgorithm': 'SECP256K1', 'KeyEncryptionAlgorithm': 'RSA-OAEP-3072', 'DataEncryptionAlgorithm': 'AES-GCM-256', 'workOrderPayloadFormats': 'JSON-RPC'}}", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 63, "funcName": "setup_config", "created": 1571643463.919348, "msecs": 919.3480014801025, "relativeCreated": 1996.1118698120117, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "conftest", "msg": "***** INTEL TRUSTED COMPUTE FRAMEWORK (TCF) *****", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 74, "funcName": "initialize_objects", "created": 1571643463.9196322, "msecs": 919.6321964263916, "relativeCreated": 1996.3960647583008, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "conftest", "msg": "sig_obj: <utility.signature.ClientSignature object at 0x7fc36df63cc0>", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 84, "funcName": "initialize_objects", "created": 1571643463.9274943, "msecs": 927.4942874908447, "relativeCreated": 2004.258155822754, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "conftest", "msg": "worker_obj: <worker.worker_details.SGXWorkerDetails object at 0x7fc36df63f98>", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 85, "funcName": "initialize_objects", "created": 1571643463.9284837, "msecs": 928.4837245941162, "relativeCreated": 2005.2475929260254, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "conftest", "msg": "------------------Testing WorkerLookUp------------------", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 116, "funcName": "worker_lookup_retrieve", "created": 1571643463.929016, "msecs": 929.01611328125, "relativeCreated": 2005.7799816131592, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "conftest", "msg": "********Received Request*******\n{'jsonrpc': '2.0', 'method': 'WorkerLookUp', 'id': 1, 'params': {'workerType': 1}}\n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 119, "funcName": "worker_lookup_retrieve", "created": 1571643463.9291368, "msecs": 929.1367530822754, "relativeCreated": 2005.9006214141846, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.utilities.workflow", "msg": "**********Received Request*********\n{\"jsonrpc\": \"2.0\", \"method\": \"WorkerLookUp\", \"id\": 1, \"params\": {\"workerType\": 1}}\n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/workflow.py", "filename": "workflow.py", "module": "workflow", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "process_request", "created": 1571643463.9293149, "msecs": 929.3148517608643, "relativeCreated": 2006.0787200927734, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.utilities.workflow", "msg": "**********Received Response*********\n{'result': {'totalCount': 1, 'lookupTag': '4d465977454159484b6f5a497a6a3043415159464b34454541416f445167414546426578504662515561624d52636b74796775666c4a444971797261635a526d6a76387a323874596a5665635a485735724c38557963644b54676d714f4a62376a363035413639644c4f6c4d6a5966635275527835513d3d', 'ids': ['4d465977454159484b6f5a497a6a3043415159464b34454541416f445167414546426578504662515561624d52636b74796775666c4a444971797261635a526d6a76387a323874596a5665635a485735724c38557963644b54676d714f4a62376a363035413639644c4f6c4d6a5966635275527835513d3d']}, 'id': 1, 'jsonrpc': '2.0'}\n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/workflow.py", "filename": "workflow.py", "module": "workflow", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 28, "funcName": "process_request", "created": 1571643463.933688, "msecs": 933.6879253387451, "relativeCreated": 2010.4517936706543, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "conftest", "msg": "**********Received Response*********\n{'result': {'totalCount': 1, 'lookupTag': '4d465977454159484b6f5a497a6a3043415159464b34454541416f445167414546426578504662515561624d52636b74796775666c4a444971797261635a526d6a76387a323874596a5665635a485735724c38557963644b54676d714f4a62376a363035413639644c4f6c4d6a5966635275527835513d3d', 'ids': ['4d465977454159484b6f5a497a6a3043415159464b34454541416f445167414546426578504662515561624d52636b74796775666c4a444971797261635a526d6a76387a323874596a5665635a485735724c38557963644b54676d714f4a62376a363035413639644c4f6c4d6a5966635275527835513d3d']}, 'id': 1, 'jsonrpc': '2.0'}\n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 122, "funcName": "worker_lookup_retrieve", "created": 1571643463.9339132, "msecs": 933.9132308959961, "relativeCreated": 2010.6770992279053, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "conftest", "msg": "-----Testing WorkerRetrieve-----", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 147, "funcName": "worker_lookup_retrieve", "created": 1571643463.9341018, "msecs": 934.1018199920654, "relativeCreated": 2010.8656883239746, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "conftest", "msg": "*****Worker details Updated with Worker ID*****\n                           \n{'jsonrpc': '2.0', 'method': 'WorkerRetrieve', 'id': 2, 'params': {'workerId': '4d465977454159484b6f5a497a6a3043415159464b34454541416f445167414546426578504662515561624d52636b74796775666c4a444971797261635a526d6a76387a323874596a5665635a485735724c38557963644b54676d714f4a62376a363035413639644c4f6c4d6a5966635275527835513d3d'}}\n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 159, "funcName": "worker_lookup_retrieve", "created": 1571643463.934243, "msecs": 934.2429637908936, "relativeCreated": 2011.0068321228027, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.utilities.workflow", "msg": "**********Received Request*********\n{\"jsonrpc\": \"2.0\", \"method\": \"WorkerRetrieve\", \"id\": 2, \"params\": {\"workerId\": \"4d465977454159484b6f5a497a6a3043415159464b34454541416f445167414546426578504662515561624d52636b74796775666c4a444971797261635a526d6a76387a323874596a5665635a485735724c38557963644b54676d714f4a62376a363035413639644c4f6c4d6a5966635275527835513d3d\"}}\n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/workflow.py", "filename": "workflow.py", "module": "workflow", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "process_request", "created": 1571643463.9344242, "msecs": 934.4241619110107, "relativeCreated": 2011.18803024292, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.utilities.workflow", "msg": "**********Received Response*********\n{'result': {'workerType': 1, 'organizationId': 'aabbcc1234ddeeff', 'applicationTypeId': '11aa22bb33cc44dd', 'details': {'workOrderSyncUri': 'http://localhost:8080', 'workOrderAsyncUri': 'http://localhost:8080', 'workOrderPullUri': 'http://localhost:8080', 'workOrderNotifyUri': 'http://localhost:8080', 'receiptInvocationUri': 'http://localhost:8080', 'workOrderInvocationAddress': '', 'receiptInvocationAddress': '', 'fromAddress': '', 'hashingAlgorithm': 'SHA-256', 'signingAlgorithm': 'SECP256K1', 'keyEncryptionAlgorithm': 'RSA-OAEP-3072', 'dataEncryptionAlgorithm': 'AES-GCM-256', 'workOrderPayloadFormats': 'JSON-RPC', 'workerTypeData': {'verificationKey': '-----BEGIN PUBLIC KEY-----\\nMFYwEAYHKoZIzj0CAQYFK4EEAAoDQgAEFBexPFbQUabMRcktyguflJDIqyracZRm\\njv8z28tYjVecZHW5rL8UycdKTgmqOJb7j605A69dLOlMjYfcRuRx5Q==\\n-----END PUBLIC KEY-----\\n', 'extendedMeasurements': ['DEADBEEF00000000DEADBEEF0000000000000000000000000000000000000000', '42FAAAD95A1F7FCF4A09F71D2C6E0C19BF0D1CAA54F85207BC34AD7E8B7A35B8'], 'proofDataType': 'TEE-SGX-IAS', 'proofData': '', 'encryptionKey': '-----BEGIN RSA PUBLIC KEY-----\\nMIIBCgKCAQEAvVdXnoUm3GepJ7fY9hmwz9CC3QkcKCsI1bvZ+5wIB87yzsBhYZ5P\\nGQLdFkpFPF5NgD5wW4aVdfddMA7WBAj6T9dmmyUNGl65q2ACyKS9Rcx9nhnOG0iW\\nCu3hPf18cBpX1pua6bfY9uA3ah//sSr9tHZRF1XyFt+gbFf2ycNzizz2hddNE2xN\\nT1i+X+4uX1G2rQf9s6cRNRuRbLD+R39xiwGn+FM6F1/VHYB23N24ugc+/HhDhV8I\\nuzT80eQZANaVV5l8v6nJ5ITgklW7LY94AsvsaXW0DEh+5MhAHWwZuxuSaDZlLj3Y\\nq3kHpuEYFLi4HSmhBk0U+SbJjts2ZF5yWQIDAQAB\\n-----END RSA PUBLIC KEY-----\\n', 'encryptionKeySignature': ''}}, 'status': 1}, 'id': 2, 'jsonrpc': '2.0'}\n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/workflow.py", "filename": "workflow.py", "module": "workflow", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 28, "funcName": "process_request", "created": 1571643463.9370668, "msecs": 937.0667934417725, "relativeCreated": 2013.8306617736816, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "worker.worker_details", "msg": "*********Updating Worker Details*********", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tools/build/_dev/lib/python3.6/site-packages/tcf_examples_common-0.0.1.dev1-py3.6-linux-x86_64.egg/worker/worker_details.py", "filename": "worker_details.py", "module": "worker_details", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 74, "funcName": "load_worker", "created": 1571643463.9373376, "msecs": 937.3376369476318, "relativeCreated": 2014.101505279541, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "worker.worker_details", "msg": "Hashing Algorithm : SHA-256", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tools/build/_dev/lib/python3.6/site-packages/tcf_examples_common-0.0.1.dev1-py3.6-linux-x86_64.egg/worker/worker_details.py", "filename": "worker_details.py", "module": "worker_details", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 90, "funcName": "load_worker", "created": 1571643463.9374726, "msecs": 937.4725818634033, "relativeCreated": 2014.2364501953125, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "worker.worker_details", "msg": "Signing Algorithm : SECP256K1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tools/build/_dev/lib/python3.6/site-packages/tcf_examples_common-0.0.1.dev1-py3.6-linux-x86_64.egg/worker/worker_details.py", "filename": "worker_details.py", "module": "worker_details", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 91, "funcName": "load_worker", "created": 1571643463.937602, "msecs": 937.6020431518555, "relativeCreated": 2014.3659114837646, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}]}, "call": {"duration": 9.048298358917236, "outcome": "failed", "crash": {"path": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/work_order_submit/work_order_utility.py", "lineno": 94, "message": "NameError: name 'session_iv' is not defined"}, "traceback": [{"path": "work_order/test_work_order_success.py", "lineno": 35, "message": ""}, {"path": "automation_framework/utilities/validate_request.py", "lineno": 60, "message": "in validate_request"}, {"path": "automation_framework/work_order_submit/work_order_utility.py", "lineno": 94, "message": "NameError"}], "log": [{"name": "automation_framework.utilities.validate_request", "msg": "------ Input file name: ./work_order/input/work_order_success.json ------\n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/validate_request.py", "filename": "validate_request.py", "module": "validate_request", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 30, "funcName": "validate_request", "created": 1571643463.938273, "msecs": 938.2729530334473, "relativeCreated": 2015.0368213653564, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.utilities.validate_request", "msg": "------ Loaded file name: ./work_order/input/work_order_success.json ------\n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/validate_request.py", "filename": "validate_request.py", "module": "validate_request", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 35, "funcName": "validate_request", "created": 1571643463.9385142, "msecs": 938.514232635498, "relativeCreated": 2015.2781009674072, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.utilities.validate_request", "msg": "Json loaded : {\n    \"jsonrpc\": \"2.0\",\n    \"method\": \"WorkOrderSubmit\",\n    \"id\": 11,\n    \"params\": {\n        \"responseTimeoutMSecs\": 6000,\n        \"payloadFormat\": \"JSON-RPC\",\n        \"resultUri\": \"resulturi\",\n        \"notifyUri\": \"notifyuri\",\n        \"workOrderId\": \"\",\n        \"workerId\": \"\",\n        \"workloadId\": \"heart-disease-eval\",\n        \"requesterId\": \"0x3456\",\n        \"workerEncryptionKey\": \"\",\n        \"dataEncryptionAlgorithm\": \"AES-GCM-256\",\n        \"encryptedSessionKey\": \"\",\n        \"sessionKeyIv\": \"\",\n        \"requesterNonce\": \"\",\n        \"encryptedRequestHash\": \"\",\n        \"requesterSignature\": \"\",\n        \"inData\": [\n\t\t   {\"index\": 2,\n                    \"dataHash\": \"\",\n                    \"data\": \"Heart disease evaluation data: 25 10 1 67  102 125 1 95 5 10 1 11 36 1\",\n                    \"encryptedDataEncryptionKey\": \"\",\n                    \"iv\": \"\"\n                   },\n                   {\"index\": 1,\n                    \"dataHash\": \"\",\n                    \"data\": \"Heart disease evaluation data: 32 1 1 156  132 125 1 95  1 0 1 1 3 1\",\n                    \"encryptedDataEncryptionKey\": \"\",\n                    \"iv\": \"\"\n                   }\n        ]\n    }\n} \n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/validate_request.py", "filename": "validate_request.py", "module": "validate_request", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 46, "funcName": "validate_request", "created": 1571643463.938641, "msecs": 938.6410713195801, "relativeCreated": 2015.4049396514893, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.utilities.validate_request", "msg": "Json Str 1 loaded : {'jsonrpc': '2.0', 'method': 'WorkOrderSubmit', 'id': 11, 'params': {'responseTimeoutMSecs': 6000, 'payloadFormat': 'JSON-RPC', 'resultUri': 'resulturi', 'notifyUri': 'notifyuri', 'workOrderId': '', 'workerId': '', 'workloadId': 'heart-disease-eval', 'requesterId': '0x3456', 'workerEncryptionKey': '', 'dataEncryptionAlgorithm': 'AES-GCM-256', 'encryptedSessionKey': '', 'sessionKeyIv': '', 'requesterNonce': '', 'encryptedRequestHash': '', 'requesterSignature': '', 'inData': [{'index': 2, 'dataHash': '', 'data': 'Heart disease evaluation data: 25 10 1 67  102 125 1 95 5 10 1 11 36 1', 'encryptedDataEncryptionKey': '', 'iv': ''}, {'index': 1, 'dataHash': '', 'data': 'Heart disease evaluation data: 32 1 1 156  132 125 1 95  1 0 1 1 3 1', 'encryptedDataEncryptionKey': '', 'iv': ''}]}} \n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/validate_request.py", "filename": "validate_request.py", "module": "validate_request", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 48, "funcName": "validate_request", "created": 1571643463.9388402, "msecs": 938.8401508331299, "relativeCreated": 2015.604019165039, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.utilities.validate_request", "msg": "Json input_method : WorkOrderSubmit \n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/validate_request.py", "filename": "validate_request.py", "module": "validate_request", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 53, "funcName": "validate_request", "created": 1571643463.939072, "msecs": 939.0718936920166, "relativeCreated": 2015.8357620239258, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.utilities.validate_request", "msg": "Json Str 2 loaded : {'jsonrpc': '2.0', 'method': 'WorkOrderSubmit', 'id': 11, 'params': {'responseTimeoutMSecs': 6000, 'payloadFormat': 'JSON-RPC', 'resultUri': 'resulturi', 'notifyUri': 'notifyuri', 'workOrderId': '', 'workerId': '', 'workloadId': 'heart-disease-eval', 'requesterId': '0x3456', 'workerEncryptionKey': '', 'dataEncryptionAlgorithm': 'AES-GCM-256', 'encryptedSessionKey': '', 'sessionKeyIv': '', 'requesterNonce': '', 'encryptedRequestHash': '', 'requesterSignature': '', 'inData': [{'index': 2, 'dataHash': '', 'data': 'Heart disease evaluation data: 25 10 1 67  102 125 1 95 5 10 1 11 36 1', 'encryptedDataEncryptionKey': '', 'iv': ''}, {'index': 1, 'dataHash': '', 'data': 'Heart disease evaluation data: 32 1 1 156  132 125 1 95  1 0 1 1 3 1', 'encryptedDataEncryptionKey': '', 'iv': ''}]}} \n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/validate_request.py", "filename": "validate_request.py", "module": "validate_request", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "validate_request", "created": 1571643463.9392254, "msecs": 939.225435256958, "relativeCreated": 2015.9893035888672, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.work_order_submit.work_order_utility", "msg": "------ Testing WorkOrderSubmit ------", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/work_order_submit/work_order_utility.py", "filename": "work_order_utility.py", "module": "work_order_utility", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "process_work_order", "created": 1571643463.9394512, "msecs": 939.4512176513672, "relativeCreated": 2016.2150859832764, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.work_order_submit.work_order_submit", "msg": "Type of indataitem : <class 'dict'> \n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/work_order_submit/work_order_submit.py", "filename": "work_order_submit.py", "module": "work_order_submit", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 254, "funcName": "add_in_data", "created": 1571643463.9399292, "msecs": 939.9292469024658, "relativeCreated": 2016.693115234375, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.work_order_submit.work_order_submit", "msg": "Type of indataitem in loop : <class 'dict'> \n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/work_order_submit/work_order_submit.py", "filename": "work_order_submit.py", "module": "work_order_submit", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 256, "funcName": "add_in_data", "created": 1571643463.940549, "msecs": 940.5488967895508, "relativeCreated": 2017.31276512146, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.work_order_submit.work_order_submit", "msg": "Type of indataitem keys: dict_keys(['index', 'dataHash', 'data', 'encryptedDataEncryptionKey', 'iv']) \n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/work_order_submit/work_order_submit.py", "filename": "work_order_submit.py", "module": "work_order_submit", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 258, "funcName": "add_in_data", "created": 1571643463.9406831, "msecs": 940.683126449585, "relativeCreated": 2017.4469947814941, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.work_order_submit.work_order_submit", "msg": "index : 2, dataHash : , data : Heart disease evaluation data: 25 10 1 67  102 125 1 95 5 10 1 11 36 1,\n                            encrypted_data_encryption_key : , iv :  \n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/work_order_submit/work_order_submit.py", "filename": "work_order_submit.py", "module": "work_order_submit", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 272, "funcName": "add_in_data", "created": 1571643463.941222, "msecs": 941.2219524383545, "relativeCreated": 2017.9858207702637, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.work_order_submit.work_order_submit", "msg": "Second Position - index : 2, dataHash : , data : Heart disease evaluation data: 25 10 1 67  102 125 1 95 5 10 1 11 36 1,\n                    encrypted_data_encryption_key : , iv :  \n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/work_order_submit/work_order_submit.py", "filename": "work_order_submit.py", "module": "work_order_submit", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 322, "funcName": "__add_data_params", "created": 1571643463.9413486, "msecs": 941.3485527038574, "relativeCreated": 2018.1124210357666, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.work_order_submit.work_order_submit", "msg": "Type of indataitem : <class 'dict'> \n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/work_order_submit/work_order_submit.py", "filename": "work_order_submit.py", "module": "work_order_submit", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 254, "funcName": "add_in_data", "created": 1571643463.9415262, "msecs": 941.5261745452881, "relativeCreated": 2018.2900428771973, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.work_order_submit.work_order_submit", "msg": "Type of indataitem in loop : <class 'dict'> \n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/work_order_submit/work_order_submit.py", "filename": "work_order_submit.py", "module": "work_order_submit", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 256, "funcName": "add_in_data", "created": 1571643463.9416664, "msecs": 941.6663646697998, "relativeCreated": 2018.430233001709, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.work_order_submit.work_order_submit", "msg": "Type of indataitem keys: dict_keys(['index', 'dataHash', 'data', 'encryptedDataEncryptionKey', 'iv']) \n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/work_order_submit/work_order_submit.py", "filename": "work_order_submit.py", "module": "work_order_submit", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 258, "funcName": "add_in_data", "created": 1571643463.9417892, "msecs": 941.7891502380371, "relativeCreated": 2018.5530185699463, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.work_order_submit.work_order_submit", "msg": "index : 1, dataHash : , data : Heart disease evaluation data: 32 1 1 156  132 125 1 95  1 0 1 1 3 1,\n                            encrypted_data_encryption_key : , iv :  \n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/work_order_submit/work_order_submit.py", "filename": "work_order_submit.py", "module": "work_order_submit", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 272, "funcName": "add_in_data", "created": 1571643463.941921, "msecs": 941.9209957122803, "relativeCreated": 2018.6848640441895, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.work_order_submit.work_order_submit", "msg": "Second Position - index : 1, dataHash : , data : Heart disease evaluation data: 32 1 1 156  132 125 1 95  1 0 1 1 3 1,\n                    encrypted_data_encryption_key : , iv :  \n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/work_order_submit/work_order_submit.py", "filename": "work_order_submit.py", "module": "work_order_submit", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 322, "funcName": "__add_data_params", "created": 1571643463.9420521, "msecs": 942.0521259307861, "relativeCreated": 2018.8159942626953, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.work_order_submit.work_order_submit", "msg": "In indata hash loop \n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/work_order_submit/work_order_submit.py", "filename": "work_order_submit.py", "module": "work_order_submit", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 211, "funcName": "add_encrypted_request_hash", "created": 1571643463.9458575, "msecs": 945.8575248718262, "relativeCreated": 2022.6213932037354, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.work_order_submit.work_order_utility", "msg": "Json RPC : {'jsonrpc': '2.0', 'method': 'WorkOrderSubmit', 'id': 3, 'params': {'responseTimeoutMSecs': 6000, 'payloadFormat': 'JSON-RPC', 'resultUri': 'resulturi', 'notifyUri': 'notifyuri', 'workOrderId': '0x1e5ed1fed55424e4', 'workerId': '4d465977454159484b6f5a497a6a3043415159464b34454541416f445167414546426578504662515561624d52636b74796775666c4a444971797261635a526d6a76387a323874596a5665635a485735724c38557963644b54676d714f4a62376a363035413639644c4f6c4d6a5966635275527835513d3d', 'workloadId': '68656172742d646973656173652d6576616c', 'requesterId': '0x3456', 'workerEncryptionKey': '', 'dataEncryptionAlgorithm': 'AES-GCM-256', 'sessionKeyIv': '80255f165b00020e04fd6ec3', 'encryptedSessionKey': '64d9a4dba28c56f9fff57079094ec8efbe4f74b94c8bdd7b8df0650fa6e54b9229895458cbbe77c143b474698d2464bffd9408977c6d3f1a64b07c6bf18aeca226fc58f3977e2566dc44bc3cd3f4ea9b10e12669583804f4146295be213c8821f075665ab8604654637f94a852043f77888872960a14da618a587a7a60e0afba223bbf7cf453c794c2a32522986c075ae2ed3eaa79dacc4081bdb9f68ec588b1cc06c0b38692596f12badd3948abc0c22dc2e188504a46884d17c8d12990758e03791491466a8dc0c65946f170a9ac48b9b3302ad806c759be607181f239284514dcf1bf0fec741c53655d5c34abafeaae28ea9060e1a2b40ad446f494541fd8', 'requesterNonce': 'TDPtWfCseLUnF5F6cxjF0EsE3AGzpBA9H6hdNlYUjWo=', 'encryptedRequestHash': 'D0888B87495C704178EA28D72B8BAEC139D94BC541471B7EDA02E35DED117A0FA2592868D942B82F3FD67528692BDA81', 'requesterSignature': 'MEUCIQDYdMISYvcuV/bxiD0Xp4Tl22COHWt+3T7fdkHbvhQeNgIgTqmSpskaDWL8Bns1lNVA1u8w4Gtn4I1h9CtUiKjPuFE=', 'verifyingKey': '-----BEGIN PUBLIC KEY-----\\nMFYwEAYHKoZIzj0CAQYFK4EEAAoDQgAEF044Has9uOel0/QjKL7XClraiGjAW39O\\nUhfsR+iqVBrMOwH+fyE3nj3vEP3QCPQrNcSf/CDr+/GwheZbCxcOJA==\\n-----END PUBLIC KEY-----\\n', 'inData': [{'index': 2, 'dataHash': '', 'data': 'qNWSgBivqYJpKluXPYf+zfrkdvgmUVmgFdH/6MnrlIkpcm+KuaT1+VOWZeXsEWP1EGh8RccLSAbFBvA/iT99krbEITDOWZyROusQ7D2WTDCoPtWrmVE=', 'encrypDataEncryptionKey': '', 'iv': ''}, {'index': 1, 'dataHash': '', 'data': 'qNWSgBivqYJpKluXPYf+zfrkdvgmUVmgFdH/6MnrlIgucm+aqLXk+lKWZeXvEWP1EGh8RccLSAbQF+E/iT99kqfXMjcFfVmZY2wPwCGpRgFPWBB5', 'encrypDataEncryptionKey': '', 'iv': ''}]}} \n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/work_order_submit/work_order_utility.py", "filename": "work_order_utility.py", "module": "work_order_utility", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 66, "funcName": "process_work_order", "created": 1571643463.9512007, "msecs": 951.2007236480713, "relativeCreated": 2027.9645919799805, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.utilities.workflow", "msg": "**********Received Request*********\n{\"jsonrpc\": \"2.0\", \"method\": \"WorkOrderSubmit\", \"id\": 3, \"params\": {\"responseTimeoutMSecs\": 6000, \"payloadFormat\": \"JSON-RPC\", \"resultUri\": \"resulturi\", \"notifyUri\": \"notifyuri\", \"workOrderId\": \"0x1e5ed1fed55424e4\", \"workerId\": \"4d465977454159484b6f5a497a6a3043415159464b34454541416f445167414546426578504662515561624d52636b74796775666c4a444971797261635a526d6a76387a323874596a5665635a485735724c38557963644b54676d714f4a62376a363035413639644c4f6c4d6a5966635275527835513d3d\", \"workloadId\": \"68656172742d646973656173652d6576616c\", \"requesterId\": \"0x3456\", \"workerEncryptionKey\": \"\", \"dataEncryptionAlgorithm\": \"AES-GCM-256\", \"sessionKeyIv\": \"80255f165b00020e04fd6ec3\", \"encryptedSessionKey\": \"64d9a4dba28c56f9fff57079094ec8efbe4f74b94c8bdd7b8df0650fa6e54b9229895458cbbe77c143b474698d2464bffd9408977c6d3f1a64b07c6bf18aeca226fc58f3977e2566dc44bc3cd3f4ea9b10e12669583804f4146295be213c8821f075665ab8604654637f94a852043f77888872960a14da618a587a7a60e0afba223bbf7cf453c794c2a32522986c075ae2ed3eaa79dacc4081bdb9f68ec588b1cc06c0b38692596f12badd3948abc0c22dc2e188504a46884d17c8d12990758e03791491466a8dc0c65946f170a9ac48b9b3302ad806c759be607181f239284514dcf1bf0fec741c53655d5c34abafeaae28ea9060e1a2b40ad446f494541fd8\", \"requesterNonce\": \"TDPtWfCseLUnF5F6cxjF0EsE3AGzpBA9H6hdNlYUjWo=\", \"encryptedRequestHash\": \"D0888B87495C704178EA28D72B8BAEC139D94BC541471B7EDA02E35DED117A0FA2592868D942B82F3FD67528692BDA81\", \"requesterSignature\": \"MEUCIQDYdMISYvcuV/bxiD0Xp4Tl22COHWt+3T7fdkHbvhQeNgIgTqmSpskaDWL8Bns1lNVA1u8w4Gtn4I1h9CtUiKjPuFE=\", \"verifyingKey\": \"-----BEGIN PUBLIC KEY-----\\nMFYwEAYHKoZIzj0CAQYFK4EEAAoDQgAEF044Has9uOel0/QjKL7XClraiGjAW39O\\nUhfsR+iqVBrMOwH+fyE3nj3vEP3QCPQrNcSf/CDr+/GwheZbCxcOJA==\\n-----END PUBLIC KEY-----\\n\", \"inData\": [{\"index\": 2, \"dataHash\": \"\", \"data\": \"qNWSgBivqYJpKluXPYf+zfrkdvgmUVmgFdH/6MnrlIkpcm+KuaT1+VOWZeXsEWP1EGh8RccLSAbFBvA/iT99krbEITDOWZyROusQ7D2WTDCoPtWrmVE=\", \"encrypDataEncryptionKey\": \"\", \"iv\": \"\"}, {\"index\": 1, \"dataHash\": \"\", \"data\": \"qNWSgBivqYJpKluXPYf+zfrkdvgmUVmgFdH/6MnrlIgucm+aqLXk+lKWZeXvEWP1EGh8RccLSAbQF+E/iT99kqfXMjcFfVmZY2wPwCGpRgFPWBB5\", \"encrypDataEncryptionKey\": \"\", \"iv\": \"\"}]}}\n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/workflow.py", "filename": "workflow.py", "module": "workflow", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "process_request", "created": 1571643463.951485, "msecs": 951.4849185943604, "relativeCreated": 2028.2487869262695, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.utilities.workflow", "msg": "**********Received Response*********\n{'error': {'code': 5, 'message': 'Work order is computing. Please query for WorkOrderGetResult                  to view the result'}, 'id': 3, 'jsonrpc': '2.0'}\n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/workflow.py", "filename": "workflow.py", "module": "workflow", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 28, "funcName": "process_request", "created": 1571643463.954349, "msecs": 954.3490409851074, "relativeCreated": 2031.1129093170166, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.utilities.workflow", "msg": "check_result_key in expected result: error \n ", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/workflow.py", "filename": "workflow.py", "module": "workflow", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 46, "funcName": "validate_response_code", "created": 1571643463.9545557, "msecs": 954.5557498931885, "relativeCreated": 2031.3196182250977, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.utilities.workflow", "msg": "SUCCESS: Response contains expected error code\n                               5. \n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/workflow.py", "filename": "workflow.py", "module": "workflow", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 57, "funcName": "validate_response_code", "created": 1571643463.954691, "msecs": 954.6909332275391, "relativeCreated": 2031.4548015594482, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.work_order_get_result.work_order_get_result_utility", "msg": "------ Testing WorkOrderGetResult ------", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/work_order_get_result/work_order_get_result_utility.py", "filename": "work_order_get_result_utility.py", "module": "work_order_get_result_utility", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 49, "funcName": "process_work_order_get_result", "created": 1571643463.9548547, "msecs": 954.8547267913818, "relativeCreated": 2031.618595123291, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.work_order_get_result.work_order_get_result_utility", "msg": "----- Constructing WorkOrderGetResult -----", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/work_order_get_result/work_order_get_result_utility.py", "filename": "work_order_get_result_utility.py", "module": "work_order_get_result_utility", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 23, "funcName": "create_work_order_get_result", "created": 1571643463.9549794, "msecs": 954.979419708252, "relativeCreated": 2031.7432880401611, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.work_order_get_result.work_order_get_result_utility", "msg": "----- Validating WorkOrderGetResult Response ------", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/work_order_get_result/work_order_get_result_utility.py", "filename": "work_order_get_result_utility.py", "module": "work_order_get_result_utility", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 52, "funcName": "process_work_order_get_result", "created": 1571643463.9551044, "msecs": 955.1043510437012, "relativeCreated": 2031.8682193756104, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.utilities.workflow", "msg": "**********Received Request*********\n{\"jsonrpc\": \"2.0\", \"method\": \"WorkOrderGetResult\", \"id\": 4, \"params\": {\"workOrderId\": \"0x1e5ed1fed55424e4\"}}\n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/workflow.py", "filename": "workflow.py", "module": "workflow", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "process_request", "created": 1571643463.9552517, "msecs": 955.2516937255859, "relativeCreated": 2032.0155620574951, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.utilities.workflow", "msg": "**********Received Response*********\n{'error': {'code': 5, 'message': 'Work order result is yet to be updated'}, 'id': 4, 'jsonrpc': '2.0'}\n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/workflow.py", "filename": "workflow.py", "module": "workflow", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 28, "funcName": "process_request", "created": 1571643463.9576166, "msecs": 957.6165676116943, "relativeCreated": 2034.3804359436035, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:43"}, {"name": "automation_framework.utilities.workflow", "msg": "**********Received Request*********\n{\"jsonrpc\": \"2.0\", \"method\": \"WorkOrderGetResult\", \"id\": 4, \"params\": {\"workOrderId\": \"0x1e5ed1fed55424e4\"}}\n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/workflow.py", "filename": "workflow.py", "module": "workflow", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "process_request", "created": 1571643466.961412, "msecs": 961.4119529724121, "relativeCreated": 5038.175821304321, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:46"}, {"name": "automation_framework.utilities.workflow", "msg": "**********Received Response*********\n{'error': {'code': 5, 'message': 'Work order result is yet to be updated'}, 'id': 4, 'jsonrpc': '2.0'}\n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/workflow.py", "filename": "workflow.py", "module": "workflow", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 28, "funcName": "process_request", "created": 1571643466.968446, "msecs": 968.4460163116455, "relativeCreated": 5045.209884643555, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:46"}, {"name": "automation_framework.utilities.workflow", "msg": "**********Received Request*********\n{\"jsonrpc\": \"2.0\", \"method\": \"WorkOrderGetResult\", \"id\": 4, \"params\": {\"workOrderId\": \"0x1e5ed1fed55424e4\"}}\n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/workflow.py", "filename": "workflow.py", "module": "workflow", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 25, "funcName": "process_request", "created": 1571643469.972209, "msecs": 972.2089767456055, "relativeCreated": 8048.972845077515, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:49"}, {"name": "automation_framework.utilities.workflow", "msg": "**********Received Response*********\n{'error': {'code': 2, 'message': 'Decryption of client request hash failed. Request is tampered.'}, 'id': 4, 'jsonrpc': '2.0'}\n", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/workflow.py", "filename": "workflow.py", "module": "workflow", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 28, "funcName": "process_request", "created": 1571643469.9791217, "msecs": 979.1216850280762, "relativeCreated": 8055.885553359985, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:49"}, {"name": "automation_framework.work_order_get_result.work_order_get_result_utility", "msg": "WorkOrderGetResult -\n                           Response received with error code. ", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/work_order_get_result/work_order_get_result_utility.py", "filename": "work_order_get_result_utility.py", "module": "work_order_get_result_utility", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 62, "funcName": "process_work_order_get_result", "created": 1571643472.9827552, "msecs": 982.755184173584, "relativeCreated": 11059.519052505493, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:52"}, {"name": "automation_framework.utilities.workflow", "msg": "check_result_key in expected result: result \n ", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/workflow.py", "filename": "workflow.py", "module": "workflow", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 46, "funcName": "validate_response_code", "created": 1571643472.983879, "msecs": 983.8790893554688, "relativeCreated": 11060.642957687378, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:52"}, {"name": "automation_framework.utilities.workflow", "msg": "ERROR: Response did not contain result in expected response.\n                   \n ", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/project/TrustedComputeFramework/tests/validation_suite/automation_framework/utilities/workflow.py", "filename": "workflow.py", "module": "workflow", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 89, "funcName": "validate_response_code", "created": 1571643472.9850206, "msecs": 985.020637512207, "relativeCreated": 11061.784505844116, "thread": 140477501454144, "threadName": "MainThread", "processName": "MainProcess", "process": 1481, "asctime": "2019-10-21 07:37:52"}], "longrepr": "setup_config = (<worker.worker_details.SGXWorkerDetails object at 0x7fc36df63f98>, <utility.signature.ClientSignature object at 0x7fc... <crypto.crypto.SIG_PrivateKey; proxy of <Swig Object of type 'tcf::crypto::sig::PrivateKey *' at 0x7fc36dfbcd80> >, 0)\n\n    def test_work_order_success(setup_config):\n        \"\"\" Testing work order request with all valid parameter values. \"\"\"\n    \n        # retrieve values from conftest session fixture\n        worker_obj = setup_config[0]\n        sig_obj = setup_config[1]\n        uri_client = setup_config[2]\n        private_key = setup_config[3]\n        err_cd = setup_config[4]\n    \n        # input and output names\n        input_json_file = './work_order/input/work_order_success.json'\n        input_type = 'file'\n        output_json_file_name = 'work_order_success'\n        tamper = {\"params\": {}}\n    \n        # expected response\n        check_submit = {\"error\": {\"code\": 5}}\n        check_result = '''{\"result\": {\"workOrderId\": \"\", \"workloadId\": \"\",\n                           \"workerId\": \"\", \"requesterId\": \"\", \"workerNonce\": \"\",\n                           \"workerSignature\": \"\", \"outData\": \"\"}}'''\n        check_get_result = json.loads(check_result)\n    \n        # process worker actions\n        request_tup=(input_json_file, input_type, tamper, output_json_file_name,\n                    worker_obj, sig_obj, uri_client, private_key, err_cd,\n                    check_submit, check_get_result)\n>       response_tup = validate_request(request_tup)\n\nwork_order/test_work_order_success.py:35: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nautomation_framework/utilities/validate_request.py:60: in validate_request\n    check_result_2)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ninput_json_str = {}, tamper = {'params': {}}, output_json_file_name = 'work_order_success'\nworker_obj = <worker.worker_details.SGXWorkerDetails object at 0x7fc36df63f98>, sig_obj = <utility.signature.ClientSignature object at 0x7fc36df63cc0>\nuri_client = <service_client.generic.GenericServiceClient object at 0x7fc36df639e8>\nprivate_key = <crypto.crypto.SIG_PrivateKey; proxy of <Swig Object of type 'tcf::crypto::sig::PrivateKey *' at 0x7fc36dfbcd80> >, err_cd = 1\ncheck_submit = {'error': {'code': 5}}, check_get_result = {'result': {'outData': '', 'requesterId': '', 'workOrderId': '', 'workerId': '', ...}}\n\n    def process_work_order(input_json_str, tamper, output_json_file_name,\n            worker_obj, sig_obj, uri_client, private_key, err_cd, check_submit,\n            check_get_result):\n        \"\"\" Function to process work order\n            Read input json file or use input string.\n            Triggers create_work_order_request , sign_work_order_request,\n            process_request, tamper_request, validate_response_code,\n            process_work_order_get_result.\n            Returns - error code, input_json_str1, response, processing_time,\n            worker_obj, sig_obj, encrypted_session_key. \"\"\"\n    \n        processing_time = \"\"\n        response = \"\"\n    \n        if err_cd == 0:\n            #--------------------------------------------------------------------\n            logger.info(\"------ Testing WorkOrderSubmit ------\")\n    \n            # create work order request\n            wo_obj = WorkOrderSubmit()\n            wo_obj.add_json_values(input_json_str, tamper, worker_obj)\n    \n            json_rpc_request = {\n                    \"jsonrpc\": \"2.0\",\n                    \"method\": \"WorkOrderSubmit\",\n                    \"id\": 3\n            }\n    \n            if wo_obj.get_encrypted_request_hash() is not \"\" or None :\n                wo_obj.add_encrypted_request_hash()\n    \n            if wo_obj.get_requester_signature() is not \"\" or None :\n                wo_obj.add_requester_signature(private_key, tamper)\n    \n            json_rpc_request[\"params\"] = wo_obj.get_params()\n    \n            in_data = wo_obj.get_in_data()\n            out_data = wo_obj.get_out_data()\n    \n            if in_data is not None:\n                json_rpc_request[\"params\"][\"inData\"] = in_data\n    \n            if out_data is not None:\n                json_rpc_request[\"params\"][\"outData\"] = out_data\n    \n            logger.info('''Json RPC : %s \\n''', json_rpc_request)\n            input_json_str1 = json_rpc_request\n            response = process_request(uri_client, input_json_str1,\n                                       output_json_file_name)\n            err_cd = validate_response_code(response, check_submit)\n    \n            work_order_id = wo_obj.get_work_order_id()\n            request_id = 4\n    \n        else:\n            logger.info('''ERROR: No Worker Retrieved from system.\n                       Unable to proceed to process work order.''')\n    \n    \n        if err_cd == 0:\n            input_json_str = {}\n            tamper_get_result = {}\n    \n            (response,\n             err_cd) = wo_get_result.process_work_order_get_result(uri_client,\n                       json.dumps(input_json_str), tamper_get_result,\n                       work_order_id, request_id, check_get_result)\n        else:\n            logger.info('''ERROR: WorkOrderGetResult not performed -\n                        Expected response not received for\n                        WorkOrderSubmit.''')\n        session_key = \"\"\n        response_tup = (err_cd, input_json_str1, response, processing_time,\n>                       worker_obj, sig_obj, session_key, session_iv,\n                        encrypted_session_key)\nE       NameError: name 'session_iv' is not defined\n\nautomation_framework/work_order_submit/work_order_utility.py:94: NameError"}, "teardown": {"duration": 0.00022101402282714844, "outcome": "passed"}}]}